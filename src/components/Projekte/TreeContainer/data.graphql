query TreeDataQuery(
  $projekt: [UUID!]
  $isProjekt: Boolean!
  $ap: [UUID!]
  $isAp: Boolean!
  $pop: [UUID!]
  $isPop: Boolean!
  $tpop: [UUID!]
  $isTpop: Boolean!
  $ziel: [UUID!]
  $isZiel: Boolean!
) {
  allProjekts {
    nodes {
      id
      name
    }
  }
  allApberuebersichts(filter: { projId: { in: $projekt } }, orderBy: JAHR_ASC)
    @include(if: $isProjekt) {
    nodes {
      id
      projId
      jahr
    }
  }
  allAps(filter: { projId: { in: $projekt } }) @include(if: $isProjekt) {
    nodes {
      id
      projId
      artId
      aeEigenschaftenByArtId {
        id
        artname
      }
      apartsByApId {
        nodes {
          id
          artId
        }
      }
    }
  }
  allPops(filter: { apId: { in: $ap } }, orderBy: NR_ASC) @include(if: $isAp) {
    nodes {
      id
      name
    }
  }
  allTpops(filter: { popId: { in: $pop } }, orderBy: NR_ASC)
    @include(if: $isPop) {
    nodes {
      id
      nr
      flurname
    }
  }
  allTpopmassns(filter: { tpopId: { in: $tpop } }, orderBy: JAHR_ASC)
    @include(if: $isTpop) {
    nodes {
      id
      jahr
      tpopmassnTypWerteByTyp {
        id
        text
      }
    }
  }
  allTpopmassnbers(filter: { tpopId: { in: $tpop } }, orderBy: JAHR_ASC)
    @include(if: $isTpop) {
    nodes {
      id
      jahr
      tpopmassnErfbeurtWerteByBeurteilung {
        id
        text
      }
    }
  }
  tpopFeldKontr: allTpopkontrs(
    filter: {
      typ: { notEqualTo: "Freiwilligen-Erfolgskontrolle" }
      tpopId: { in: $tpop }
    }
  ) @include(if: $isTpop) {
    nodes {
      id
      datum
      jahr
    }
  }
  tpopFreiwKontr: allTpopkontrs(
    filter: {
      typ: { equalTo: "Freiwilligen-Erfolgskontrolle" }
      tpopId: { in: $tpop }
    }
  ) @include(if: $isTpop) {
    nodes {
      id
      datum
      jahr
    }
  }
  allTpopkontrzaehls(
    filter: { tpopkontrId: { in: ["8223d046-4f62-11e7-aebe-777a214c7467"] } }
  ) {
    nodes {
      id
      anzahl
      tpopkontrzaehlEinheitWerteByEinheit {
        id
        text
      }
      tpopkontrzaehlMethodeWerteByMethode {
        id
        text
      }
    }
  }
  allTpopbers(filter: { tpopId: { in: $tpop } }, orderBy: JAHR_ASC)
    @include(if: $isTpop) {
    nodes {
      id
      jahr
      tpopEntwicklungWerteByEntwicklung {
        id
        text
      }
    }
  }
  beobZugeordnet: allBeobs(
    filter: { tpopId: { in: $tpop } }
    orderBy: DATUM_DESC
  ) @include(if: $isTpop) {
    nodes {
      id
      nichtZuordnen
      artId
      datum
      autor
      beobQuelleWerteByQuelleId {
        id
        name
      }
      tpopByTpopId {
        id
        popByPopId {
          id
          apByApId {
            id
            artId
          }
        }
      }
    }
  }
  allPopbers(filter: { popId: { in: $pop } }, orderBy: JAHR_ASC)
    @include(if: $isPop) {
    nodes {
      id
      jahr
      tpopEntwicklungWerteByEntwicklung {
        id
        text
      }
    }
  }
  allPopmassnbers(filter: { popId: { in: $pop } }, orderBy: JAHR_ASC)
    @include(if: $isPop) {
    nodes {
      id
      jahr
      tpopmassnErfbeurtWerteByBeurteilung {
        id
        text
      }
    }
  }
  allZiels(filter: { apId: { in: $ap } }) @include(if: $isAp) {
    nodes {
      id
      jahr
      bezeichnung
    }
  }
  allZielbers(filter: { zielId: { in: $ziel } }, orderBy: JAHR_ASC)
    @include(if: $isZiel) {
    nodes {
      id
      jahr
      erreichung
    }
  }
  allErfkrits(filter: { apId: { in: $ap } }) @include(if: $isAp) {
    nodes {
      id
      kriterien
      apErfkritWerteByErfolg {
        id
        text
      }
    }
  }
  allApbers(filter: { apId: { in: $ap } }, orderBy: JAHR_ASC)
    @include(if: $isAp) {
    nodes {
      id
      jahr
    }
  }
  allBers(filter: { apId: { in: $ap } }, orderBy: JAHR_ASC)
    @include(if: $isAp) {
    nodes {
      id
      jahr
      titel
    }
  }
  allIdealbiotops(filter: { apId: { in: $ap } }) @include(if: $isAp) {
    nodes {
      id
    }
  }
  allAparts(filter: { apId: { in: $ap } }) @include(if: $isAp) {
    nodes {
      id
      aeEigenschaftenByArtId {
        id
        artname
      }
    }
  }
  allAssozarts(filter: { apId: { in: $ap } }) @include(if: $isAp) {
    nodes {
      id
      aeId
      aeEigenschaftenByAeId {
        id
        artname
      }
    }
  }
  beobNichtBeurteilt: allBeobs(
    filter: { nichtZuordnen: { equalTo: false } }
    orderBy: DATUM_DESC
  ) @include(if: $isAp) {
    nodes {
      id
      nichtZuordnen
      artId
      datum
      autor
      beobQuelleWerteByQuelleId {
        id
        name
      }
      aeEigenschaftenByArtId {
        id
        apartsByArtId(filter: { apId: { in: $ap } }) {
          nodes {
            id
            apId
          }
        }
      }
    }
  }
  beobNichtZuzuordnen: allBeobs(
    filter: { nichtZuordnen: { equalTo: true } }
    orderBy: DATUM_DESC
  ) @include(if: $isAp) {
    nodes {
      id
      nichtZuordnen
      artId
      datum
      autor
      beobQuelleWerteByQuelleId {
        id
        name
      }
      aeEigenschaftenByArtId {
        id
        apartsByArtId(filter: { apId: { in: $ap } }) {
          nodes {
            id
            apId
          }
        }
      }
    }
  }
}
